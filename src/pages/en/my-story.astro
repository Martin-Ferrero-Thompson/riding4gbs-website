---
import MainLayout from "../../layouts/MainLayout.astro";
import { Carousel } from "../../components/Carousel.jsx";
import i18n from '../../data/sidebar.json';

// Detect language and get the correct text
const currentPath = Astro.url.pathname;
const lang = currentPath.startsWith('/es') ? 'es' : currentPath.startsWith('/fr') ? 'fr' : 'en';
const t = i18n[lang];

const storySlides = [
  {
    title: "(1) The Rider Before",
    content: `<p>For as long as I can remember, my life has been intertwined with the simple freedom of a bicycle. I was a long-distance cyclist, happiest when pushing my limits on the beautiful roads and mountains of the UK and Europe. Cycling was more than a hobby; it was a core part of my identity. In 2020, life brought me back to the UK to care for my parents, and it was during this time that I reconnected with a wonderful friend in Spain, Edurne. Our friendship blossomed into a relationship, and we began dreaming of our own cycling adventures together.</p>`,
  },
  {
    title: "(2) The Day My World Stopped",
    content: `<p>On <strong>August 5th, 2021</strong>, that future was thrown into terrifying uncertainty. One moment, I was walking through the house; the next, I had collapsed on the floor, unable to move my legs. I was rushed to the hospital, where, after a series of frightening and confusing tests, I was diagnosed with <strong>Guillain-Barré Syndrome (GBS)</strong>.</p><p>I was paralysed from the waist down, with little control of my arms or hands. In the space of a day, I had gone from a highly active cyclist to being almost completely immobile. It was a profoundly dark and terrifying place. Throughout this time, my lifeline was Edurne. Separated by hundreds of miles, she was my constant connection to the outside world, a daily voice of hope on the internet that kept my spirits from breaking.</p>`,
  },
  {
    title: "(3) The Fight for Every Step",
    content: `<p>The road back was slow and grueling. After the ICU, I was moved to a rehabilitation ward for three months. With official physiotherapy limited, I knew I had to take charge of my own recovery. A fellow patient, Ian, and I would race our wheelchairs down the hospital corridors, a small act of defiance that kept my spirit alive. When I graduated to crutches, I would "escape" the hospital grounds, pushing myself to walk further each day, determined to rebuild what I had lost.</p><p>Recovery continued long after I left the hospital. It was a daily battle, managing chronic pain and relearning how to live in a body that felt alien to me.</p>`,
  },
  {
    title: "(4) A New Beginning, A New Purpose",
    content: `<p>The greatest source of strength through it all was my relationship with Edurne. In 2023, I moved to Pamplona, and we were married. With her incredible support, I finally weaned myself off the last of the medication. We had built a new life together.</p><p>Living here, surrounded by the mountains I love, I realized my perspective had changed. GBS had taken away a lot of my power, but it had given me something in return: a deeper appreciation for the journey itself. This is my <strong>"Slow Road Back."</strong></p><p>It was from this new perspective that the idea for this challenge was born. This ride is a solo challenge, a personal pilgrimage, but it is made possible by Edurne's unwavering support—she will be there at the start and, most importantly, waiting for me at the finish. This journey is for her, and for every person affected by GBS.</p>`,
  },
];
---

<MainLayout title="My Story">
  <div
    transition:name="my-story-card"
    class="m-4 md:m-8 lg:m-12 p-6 md:p-8 lg:p-10 bg-white rounded-xl max-w-6xl w-full mx-auto text-gray-800 font-sans"
  >
    <div class="text-center">
      <h1 class="font-display font-extrabold text-4xl md:text-5xl lg:text-6xl text-gray-900">
        My Story: The Slow Road Back
      </h1>
      <p class="mt-4 max-w-3xl mx-auto text-center text-lg text-gray-500">
        A journey of resilience, partnership, and a newfound purpose.
      </p>
    </div>
    <div class="mt-12 max-w-4xl mx-auto">
      <img
        class="rounded-xl shadow-lg object-cover w-full h-96"
        src="https://placehold.co/1200x800/667/fff?text=A+powerful+photo+of+Martin+and+Bike"
        alt="Martin and Bike"
      />
    </div>

    <Carousel client:load slides={storySlides} i18n={t} />
  </div>
</MainLayout>