---
import data from "../data/progress.json";

// Format currency for display
const gbpFormatter = new Intl.NumberFormat("en-GB", {
  style: "currency",
  currency: "GBP",
  minimumFractionDigits: 0,
});
const eurFormatter = new Intl.NumberFormat("de-DE", {
  style: "currency",
  currency: "EUR",
  minimumFractionDigits: 0,
});
---

<aside
  id="sidebar"
  class="bg-gray-900 bg-opacity-90 text-white p-6 flex flex-col min-h-screen w-72 hidden md:flex absolute md:relative z-40"
>
  <div class="logo mb-8">
    <a href="/en" class="text-3xl font-bold text-blue-600 font-display"
      >Riding4GBS</a
    >
    <p class="text-sm text-gray-400 font-sans">#RIDING4GBS</p>
  </div>

  <div class="bg-gray-800 rounded-lg p-4 text-center font-sans mb-8">
    <p class="text-sm font-bold text-gray-300 mb-2">Total Raised</p>
    <div class="space-y-2">
      <div>
        <span class="text-2xl font-bold text-blue-400"
          >{gbpFormatter.format(data.funds_gbp.current)}</span
        >
        <span class="text-xs text-gray-400"> (UK)</span>
      </div>
      <div>
        <span class="text-2xl font-bold text-blue-400"
          >{eurFormatter.format(data.funds_eur.current)}</span
        >
        <span class="text-xs text-gray-400"> (España)</span>
      </div>
    </div>
  </div>

  <div class="mb-8 font-sans">
    <a
      href="/en/donate"
      class="block w-full text-center bg-red-600 hover:bg-red-700 p-3 rounded-lg font-bold"
    >
      Donate Now
    </a>
  </div>

  <nav class="flex flex-col space-y-4 font-sans">
    <a href="/en/the-challenge" class="hover:text-blue-400 transition-colors"
      >The Challenge</a
    >
    <a href="/en/my-story" class="hover:text-blue-400 transition-colors"
      >My Story</a
    >
    <a href="/en/about-gbs" class="hover:text-blue-400 transition-colors"
      >About GBS</a
    >
    <a href="/en/our-progress" class="hover:text-blue-400 transition-colors"
      >Our Progress</a
    >
    <a href="/en/daily-ride-diary" class="hover:text-blue-400 transition-colors"
      >Daily Ride Diary</a
    >
    <a href="/en/partners" class="hover:text-blue-400 transition-colors"
      >Partners</a
    >
    <a href="/en/support-me" class="hover:text-blue-400 transition-colors"
      >Support Me</a
    >
  </nav>

  <div class="mt-12">
    <h3
      class="font-display text-sm font-bold text-gray-400 uppercase tracking-wider"
    >
      Follow the Journey:
    </h3>
    <div class="mt-4 space-y-2">
      <a
        href="#"
        class="flex items-center space-x-3 text-gray-300 hover:text-white transition-colors"
      >
        <span class="font-sans">Instagram</span>
      </a>
      <a
        href="#"
        class="flex items-center space-x-3 text-gray-300 hover:text-white transition-colors"
      >
        <span class="font-sans">Strava</span>
      </a>
      <a
        href="#"
        class="flex items-center space-x-3 text-gray-300 hover:text-white transition-colors"
      >
        <span class="font-sans">YouTube</span>
      </a>
    </div>
  </div>

  <footer class="mt-auto pt-8 text-sm text-gray-400 font-sans">
    <div class="flex items-center space-x-2 border-b border-gray-700 pb-4 mb-4">
      <span>Language:</span>
      <a href="/en" class="hover:text-white underline">English</a>
      <span>|</span>
      <a href="/es" class="hover:text-white underline">Español</a>
    </div>

    <p>&copy; 2025 Martin Ferrero-Thompson. All Rights Reserved.</p>
  </footer>
</aside>
